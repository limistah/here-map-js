"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var util=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isString=function(e){return"string"==typeof e},t.isFunction=function(e){return"function"==typeof e}}),util_1=(unwrapExports(util),util.isArray),util_2=util.isString,util_3=util.isFunction,get_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var c={};t.default=function t(u,e){if((0,util.isString)(u))return new Promise(function(e,t){function r(){c[n]=!0,(0,util.isFunction)(o)&&o()}var n,o,a,i;o=function(){return e(!0)},a=function(){return t()},c[n=u]?r():((i=document.createElement("script")).type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,r())}:i.onload=function(){r()},i.onerror=function(e){c[n]=!1,console.log("error",e),(0,util.isFunction)(a)&&a()},i.src=n,(document.body||document.head||document).appendChild(i))});var r;if((0,util.isArray)(u))return r=Promise.resolve(!0),u.forEach(function(e){r=r.then(function(){return t(e)})}),r;throw new Error("Invalid argument for get()")}}),getJs=(unwrapExports(get_1),get_1.default),defaults={VERSION:"v3/3.0",interactive:!1,includeUI:!1,includePlaces:!1},merge=createCommonjsModule(function(e){function t(e,t,r){var n=r[0],o=r.length;!e&&"object"===l(n)||(n={});for(var a=0;a<o;++a){var i,u=r[a],c=l(u);if("object"===c)for(var s in u)"__proto__"!==s&&(i=e?p.clone(u[s]):u[s],n[s]=t?function e(t,r){if("object"!==l(t))return r;for(var n in r)"object"===l(t[n])&&"object"===l(r[n])?t[n]=e(t[n],r[n]):t[n]=r[n];return t}(n[s],i):i)}return n}function l(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var r,p;r=e&&e.exports,(p=function(e){return t(!0===e,!1,arguments)}).recursive=function(e){return t(!0===e,!0,arguments)},p.clone=function(e){var t,r,n=e,o=l(e);if("array"===o)for(n=[],r=e.length,t=0;t<r;++t)n[t]=p.clone(e[t]);else if("object"===o)for(t in n={},e)n[t]=p.clone(e[t]);return n},r?e.exports=p:window.merge=p}),buildScriptURLs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:defaults.VERSION;return["https://js.api.here.com/".concat(e,"/mapsjs-service.js"),"https://js.api.here.com/".concat(e,"/mapsjs-ui.js"),"https://js.api.here.com/".concat(e,"/mapsjs-mapevents.js")].concat(_toConsumableArray(e.includes("v3/3.1")?[]:["https://js.api.here.com/".concat(e,"/mapsjs-places.js")]))},merger=function(e){return merge(defaults,e)},scriptLoader=function(e){var e=merger(e||{}),t=e.VERSION,r=e.version,n=e.interactive,o=e.includeUI,e=e.includePlaces,a=r||t,i=buildScriptURLs(a),r=(n||i.splice(2,1),o||i.splice(1,1),e||i.splice(3,1),"https://js.api.here.com/".concat(a,"/mapsjs-core.js"));return getJs(r).then(function(){var e;return o&&((e=document.createElement("link")).setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","https://js.api.here.com/".concat(a,"/mapsjs-ui.css")),document.getElementsByTagName("head")[0].append(e)),getJs(i)}).catch(function(e){console.log(e)})};module.exports=scriptLoader;
